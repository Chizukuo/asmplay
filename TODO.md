# Asmplay 开发路线图

> 🎮 一个基于 Web 的交互式 8086 汇编模拟器

---

## 📌 当前版本: v0.2.0 (开发中 ~80%)

### ✅ 已完成功能

#### 核心调试功能增强
- [x] **条件断点** - 支持设置条件表达式 (如 `AX==0`, `CX>10`)
- [x] **数据断点** - 监控特定内存地址的读写
- [x] **断点管理面板** - 统一管理代码断点和数据断点
- [x] **条件表达式求值器** - 支持寄存器、标志位、十六进制格式
- [x] **表达式求值器** - 支持内存访问 `[addr]`、符号表解析

#### 监视窗口增强
- [x] **表达式监视** - 支持复杂表达式 (如 `AX+BX`, `[SI+10H]`)
- [x] **错误显示** - 无效表达式友好提示
- [x] **实时更新** - 运行时自动刷新监视值

#### UI/UX 改进
- [x] **玻璃拟态设计** - 全新 Glass Panel 视觉效果
- [x] **Monitor 发光效果** - 高亮字符荧光效果
- [x] **响应式优化** - 移动端触摸区域增强
- [x] **滚动条美化** - 自定义滚动条样式
- [x] **渐变背景** - 亮/暗模式沉浸式背景
- [x] **动画效果** - 平滑过渡和微交互动画
- [x] **组件阴影** - 统一的阴影和层次感

#### 新增示例程序
- [x] **string_instructions_test.asm** - 字符串指令测试

### 🔄 进行中 (0.2.0 剩余 20%)

- [ ] **撤销/重做功能** - 代码编辑历史管理
- [ ] **断点持久化** - 保存/恢复断点设置
- [ ] **数据断点触发提示** - 触发时显示详细信息
- [ ] **内存视图跳转** - 快速跳转到指定地址
- [ ] **Bug 修复** - 光速模式稳定性、边界情况处理

---

## 🚀 未来版本规划

> 🎯 **核心方向**: 先完善基础功能，再面向教学演示扩展

### v0.3.0 - 功能完善与稳定性

**目标**: 打磨现有功能，提升稳定性和用户体验

#### 调试功能完善
- [ ] **断点持久化** - 刷新/重新加载后恢复断点设置
- [ ] **数据断点增强** - 显示触发原因 (读/写)、旧值/新值
- [ ] **日志断点** - 不暂停执行，只输出日志信息
- [ ] **命中计数** - 断点命中 N 次后才暂停

#### 内存与寄存器
- [ ] **内存跳转** - 快速跳转到指定地址
- [ ] **内存搜索** - 搜索特定值或字节序列
- [ ] **内存编辑** - 运行时修改内存值
- [ ] **寄存器编辑** - 运行时修改寄存器值
- [ ] **值变化高亮** - 变化的值闪烁/高亮显示

#### 编辑器增强
- [ ] **撤销/重做** - Ctrl+Z / Ctrl+Y 支持
- [ ] **代码折叠** - 折叠过程/数据段
- [ ] **自动补全增强** - 指令、寄存器、标签智能补全
- [ ] **错误实时提示** - 编辑时即时显示语法错误

#### 性能与稳定性
- [ ] **光速模式优化** - 修复 UI 卡顿和响应延迟
- [ ] **大程序支持** - 500+ 行代码性能优化
- [ ] **边界情况处理** - 除零、溢出等异常情况优雅处理

---

### v0.4.0 - 指令集与示例扩展

**目标**: 完善指令支持，丰富示例库

#### 指令完善
- [ ] **字符串指令** - CMPS, SCAS, LODS, STOS 完整支持
- [ ] **BCD 运算** - AAA, AAS, AAM, AAD, DAA, DAS
- [ ] **I/O 指令** - IN, OUT 端口模拟 (教学用)
- [ ] **更多 DOS 中断** - 常用功能号补全

#### 伪指令扩展
- [ ] **宏定义** - MACRO/ENDM 基础支持
- [ ] **条件汇编** - IF/ELSE/ENDIF
- [ ] **EQU 增强** - 支持表达式计算

#### 示例库扩展
- [ ] **算法示例** - 快速排序、二分查找、递归
- [ ] **数据结构** - 链表、栈、队列的汇编实现
- [ ] **图形示例** - 简单图形绘制演示
- [ ] **游戏示例** - 简单文字游戏 (猜数字等)

---

### v0.5.0 - 教学可视化

**目标**: 让汇编执行过程一目了然

#### 执行可视化
- [ ] **CPU 流水线动画** - 可视化展示取指、译码、执行过程
- [ ] **数据流动画** - 显示数据在寄存器、内存间的流动
- [ ] **指令高亮标注** - 当前执行指令的操作数、结果动态标注
- [ ] **堆栈可视化** - 图形化显示 PUSH/POP/CALL/RET 的堆栈变化

#### 指令学习辅助
- [ ] **指令悬停提示** - 鼠标悬停显示指令详细说明
- [ ] **指令速查卡片** - 侧边栏快速查看指令语法和示例
- [ ] **标志位动画** - 运算后标志位变化的可视化展示
- [ ] **寻址方式图解** - 图形化展示各种寻址方式

#### 演示模式
- [ ] **演示速度预设** - 教学专用的慢速模式
- [ ] **步骤解说面板** - 每步执行附带文字说明
- [ ] **执行轨迹回放** - 可前进/后退查看执行历史
- [ ] **全屏演示模式** - 适合投影/直播的大字体模式

---

### v0.6.0 - 交互式教程

**目标**: 内置完整的汇编学习路径

#### 教程系统
- [ ] **分章节教程** - 从基础到进阶的完整学习路径
- [ ] **交互式练习** - 填空、补全代码的练习题
- [ ] **即时反馈** - 代码正确性实时检查和提示
- [ ] **进度追踪** - 学习进度保存和展示

#### 教程内容
- [ ] **第一章: 寄存器与数据传送** - MOV, XCHG 基础
- [ ] **第二章: 算术运算** - ADD, SUB, MUL, DIV
- [ ] **第三章: 逻辑与移位** - AND, OR, SHL, SHR
- [ ] **第四章: 程序流程控制** - JMP, 条件跳转, LOOP
- [ ] **第五章: 子程序与堆栈** - CALL, RET, PUSH, POP
- [ ] **第六章: 字符串操作** - MOVSB, STOSB 等
- [ ] **第七章: 中断与 I/O** - INT 21H, INT 10H

#### 辅助功能
- [ ] **错误诊断增强** - 详细的错误原因和修复建议
- [ ] **常见错误库** - 收集典型错误和解决方案
- [ ] **代码模板** - 常用代码框架一键插入

---

### v0.7.0+ - 课堂工具与高级特性 (长期目标)

**目标**: 为教师和学生提供完整的教学解决方案

#### 课堂功能
- [ ] **课堂模式** - 教师控制学生端同步执行
- [ ] **作业系统** - 布置、提交、批改汇编作业
- [ ] **代码分享链接** - 一键生成可分享的 URL
- [ ] **执行录制** - 录制执行过程为 GIF/视频

#### 高级特性
- [ ] **反汇编视图** - 机器码与汇编对照显示
- [ ] **多文件项目** - 支持 INCLUDE 和分文件
- [ ] **桌面应用** - Electron 打包离线版
- [ ] **PWA 支持** - 离线使用

---

## 📊 版本里程碑

| 版本 | 预计时间 | 主要目标 | 状态 |
|------|----------|----------|------|
| v0.1.0 | ✅ 已发布 | 基础模拟器、核心指令、虚拟显示器 | 完成 |
| v0.2.0 | 🔄 开发中 | 高级断点、表达式求值、UI 增强 | ~80% |
| v0.3.0 | Q1 2026 | 功能完善、稳定性、编辑器增强 | 计划中 |
| v0.4.0 | Q2 2026 | 指令集完善、示例库扩展 | 计划中 |
| v0.5.0 | Q3 2026 | 教学可视化、执行动画、演示模式 | 计划中 |
| v0.6.0 | Q4 2026 | 交互式教程、练习系统 | 计划中 |
| v0.7.0+ | 2027+ | 课堂工具、高级特性 | 长期目标 |

---

## 🐛 已知问题

- [ ] 光速模式下某些情况可能导致 UI 响应延迟
- [ ] 复杂条件表达式可能解析失败
- [ ] 大程序 (>500行) 性能待优化

---

## 💡 社区建议 (待评估)

- 代码自动补全增强
- 多文件项目支持
- 汇编器错误实时提示
- 暗色代码主题选择
- 导出为可执行文件 (COM/EXE 格式学习用)

---

## 📝 贡献指南

欢迎提交 Issue 和 Pull Request！

- 🐛 Bug 报告: 请提供复现步骤和代码
- ✨ 功能建议: 描述使用场景和预期行为
- 📖 文档改进: 帮助完善指令集文档和示例

---

*最后更新: 2025-12-03*
